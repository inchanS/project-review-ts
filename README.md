# project-review
## 프로젝트 소개
- 프로젝트명 : project-review
- 프로젝트 설명 : 상품이나 서비스 등에 대한 리뷰를 게시할 수 있는 웹사이트 개발
- 개발 기간 : 2023.01 ~ 2023.03 (실 개발 기간 약 2개월)
- 개발 인원 : Team **Minhee-project** (2명)
  - **Back-end** : 1명 ([inchanS (Song Inchan)](https://github.com/inchanS))
  - Front-end : 1명 ([DawonOh](https://github.com/DawonOh))

## BackEnd 개발 환경
- OS : macOS Ventura
- IDE : WebStorm
- Language : Typescript
- Framework : Node.js, Express
- Database : MySQL
- ORM : TypeORM
- AWS : EC2, RDS, S3
- API : Swagger, open API, Webstorm Http-client
- Version Control : Git
- Communication : Slack
- Project Management : Notion

## **프로젝트간 숙련 목적** 및 성취
- **TypeORM** : TypeORM의 기능을 사용하여 DB와의 다양한 연동을 쉽게 할 수 있도록 학습 및 실습
- **AWS S3** : AWS S3를 사용하여 파일을 저장하고 관리할 수 있도록 학습 및 실습
- **open API** : open API를 사용하여 다양한 기능을 구현할 수 있도록 학습 및 실습
- **Swagger** : Swagger를 사용하여 API 문서를 자동으로 생성할 수 있도록 학습 및 실습
- **Test** : Test를 사용하여 코드의 안정성을 높일 수 있도록 학습 및 실습 (**진행중**)

## 프로젝트 구조
- **api-docs** : SwaggerUI API 문서
- **env** : 환경변수 및 설정 파일
- **db** : DB 관련 파일(DBmate migration 파일, ERD schema 파일)
- **src**
  - **controller** : API 요청을 처리하는 컨트롤러
  - **entity** : DB 테이블과 연결되는 엔티티 (DTO, typeORM viewEntities 포함)
  - **middleware** : API 요청을 처리하기 전에 실행되는 미들웨어
  - **migration** : DB 테이블 변경시 적용할 수 있는 마이그레이션 파일
  - **repository** : DB 테이블에 접근하는 레포지토리
  - **routes** : API 요청을 처리하는 라우터
  - **service** : API 요청을 처리하는 서비스
  - **types** : 타입스크립트 타입 정의 파일
  - **test** : 테스트 파일 (unit test, API test 포함)
  - **utils** : 유틸리티 함수
  - **app.ts** : 서버를 생성하는 파일
  - **main.ts** : 서버를 실행하는 파일

## API 문서
- **Swagger** : [API-docs README 참조](https://github.com/inchanS/project-review-API-docs/blob/main/README.md)

## 프로젝트 구현 기능
- **User**
  - **회원가입**
    - **회원가입** : 회원가입을 할 수 있음
    - **이메일 인증** : 회원가입 시 이메일 인증을 할 수 있음
    - **이메일 중복 확인** : 회원가입 시 이메일 중복을 확인할 수 있음
    - **닉네임 중복 확인** : 회원가입 시 닉네임 중복을 확인할 수 있음
  - **로그인**
  - **회원 탈퇴** : 회원 탈퇴를 할 수 있음
    - 회원 탈퇴 시, 회원이 작성한 모든 데이터는 soft delete 처리됨
    - 회원 탈퇴 시, 회원이 업로드한 모든 파일은 soft delete 처리되고, S3에서는 삭제됨
  - **회원 정보 조회** : 회원 정보를 조회할 수 있음
  - **회원 정보 수정** : 회원 정보를 수정할 수 있음
    - **비밀번호 찾기** : 비밀번호를 찾을 수 있음
    - **비밀번호 변경** : 비밀번호를 변경할 수 있음


- **Feeds**
  - **게시글 작성** :  작성할 수 있음
  - **게시글 수정** : 게시글을 수정할 수 있음
  - **게시글 삭제** : 게시글을 삭제할 수 있음
  - **게시글 목록 조회** : 게시글 목록을 조회할 수 있음
  - **게시글 상세 조회** : 게시글 상세 정보를 조회할 수 있음 (조회시 조회수 증가)
  - **게시글 좋아요** : 게시글에 좋아요를 할 수 있음
    - 게시글당 좋아요는 1번만 가능
    - 게시글에 좋아요 뿐만 아닌 다른 종류의 감정 표현도 가능
    - 게시글별 좋아요 수를 조회할 수 있음
  - **게시글 좋아요 취소** : 게시글에 좋아요를 취소할 수 있음

  
- **Temp Feeds**
  - **임시 게시글 작성** : 임시 게시글을 작성할 수 있음
    - 게시글 작성시 **사용되지 않는 업로드 파일 자동 삭제**
  - **임시 게시글 수정** : 임시 게시글을 수정할 수 있음
    - 게시글 수정시 **사용되지 않는 업로드 파일 자동 삭제**
  - **임시 게시글 삭제** : 임시 게시글을 삭제할 수 있음
  - **임시 게시글 목록 조회** : 임시 게시글 목록을 조회할 수 있음
  - **임시 게시글 상세 조회** : 임시 게시글 상세 정보를 조회할 수 있음


- **File Upload**
  - **파일 업로드** : 파일을 업로드할 수 있음 
    - 사용자 정보를 반영하여 DB와 S3에 매칭하여 저장
    - 한번에 하나 또는 여러개의 파일 업로드 가능
    - 파일 업로드시 파일 하나의 크기는 5MB 이하로 제한
    - 파일 업로드시 한번에 가능한 파일의 개수는 5개 이하로 제한
    - **이미지 리사이징** : width 1920px을 기준으로 리사이징하여 저장
  - **파일 삭제** : 파일을 삭제할 수 있음 
    - 사용자 유효성 검사 후, DB와 S3에서 삭제
  - **이미지 분류** : 파일의 종류가 이미지인지 아닌지 분류할 수 있음


- **Comments**
  - **댓글 작성** : 댓글을 작성할 수 있음
  - **댓글 수정** : 댓글을 수정할 수 있음
  - **댓글 삭제** : 댓글을 삭제할 수 있음 (댓글 삭제 시, soft delete 처리됨)
  - **댓글 목록 조회** : 댓글 목록을 조회할 수 있음
    - 비공개 댓글의 경우, 게시글 작성자(대댓글의 경우 원댓글 작성자)는 조회 가능
    - 삭제된 댓글의 경우, 해당 항목은 삭제된 댓글로 표시
  - **대댓글 작성** : 대댓글을 작성할 수 있음 (수정, 삭제 가능)


- **category**
  - **카테고리 목록 조회** : 카테고리 목록을 조회할 수 있음

## 프로젝트 실행 방법
- **환경변수 설정**
  - **.env** 파일 생성
  - **.env** 파일에 환경변수 설정 (환경변수 설정 방법은 **.env.example** 파일 참고)


- **DB 설정**
  - **table 및 entity 생성**
  - `.env`파일에서 typeorm synchronize 옵션을 `true`로 설정 후, 최초 실행 (migration - create table 코드 작성보다 간편해서 이 방법을 사용)
    - `npm run dev` 명령어를 통해 실행 (그 외 package.json에 정의된 script 명령어 참조)
  - 샘플 데이터 생성
    - table 생성 후, **DBmate**를 사용하여 샘플 데이터를 생성할 수 있음
    - `dbmate up` 명령어를 통해 샘플 데이터 생성

## 업데이트 예정
1. **search**
  - **검색** : 검색을 할 수 있음
 

2. **Category**
  - **카테고리 추가** : 사용자가 카테고리를 추가할 수 있음


3. **Users**
  - OAuth2.0 적용
    - **카카오 로그인** : 카카오 로그인을 할 수 있음
    - **네이버 로그인** : 네이버 로그인을 할 수 있음
    - **구글 로그인** : 구글 로그인을 할 수 있음
  - **회원 정보 수정** : 회원 정보를 수정할 수 있음
    - **프로필 사진 변경** : 프로필 사진을 변경할 수 있음
    - **프로필 사진 삭제** : 프로필 사진을 삭제할 수 있음



## License
- MIT License